{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{166:function(t,s,a){\"use strict\";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"content\"},[t._m(0),t._v(\" \"),t._m(1),t._v(\" \"),a(\"ul\",[a(\"li\",[a(\"a\",{attrs:{href:\"https://www.youtube.com/watch?v=4ze3RepMRjQ\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Tutorial\"),a(\"OutboundLink\")],1)]),t._v(\" \"),a(\"li\",[t._v(\"http://yoramkornatzky.com/post/localization-of-sails-js-applications\")]),t._v(\" \"),a(\"li\",[t._v(\"http://iantonov.me/page/izuchaem-sailsjs-chast-2-struktura-proekta\")]),t._v(\" \"),a(\"li\",[a(\"a\",{attrs:{href:\"https://www.youtube.com/watch?v=HrchcED6TKY\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Tut 2\"),a(\"OutboundLink\")],1)]),t._v(\" \"),a(\"li\",[a(\"a\",{attrs:{href:\"http://next.sailsjs.com/documentation/upgrading/to-v-1-0\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Docs of 1.0 vers\"),a(\"OutboundLink\")],1)])]),t._v(\" \"),t._m(2),t._v(\" \"),t._m(3),t._v(\" \"),a(\"hr\"),t._v(\" \"),t._m(4),t._v(\" \"),t._m(5),t._v(\" \"),t._m(6),t._v(\" \"),a(\"p\",[t._v(\"Так можно установить вручную порт и среду запуска\")]),t._v(\" \"),t._m(7),t._v(\" \"),t._m(8),t._m(9),t._v(\" \"),t._m(10),t._v(\" \"),t._m(11),t._m(12),t._v(\" \"),t._m(13),t._m(14),t._v(\" \"),t._m(15),t._m(16),t._v(\" \"),t._m(17),t._m(18),t._v(\" \"),t._m(19),t._m(20),t._v(\" \"),t._m(21),t._m(22),t._v(\" \"),t._m(23),t._m(24),t._v(\" \"),t._m(25),t._v(\" \"),t._m(26),t._v(\" \"),t._m(27),t._v(\" \"),t._m(28),t._m(29),t._v(\" \"),t._m(30),t._m(31),t._v(\" \"),t._m(32),t._v(\" \"),t._m(33),a(\"p\",[t._v(\"Также можно писать в routes.js\")]),t._v(\" \"),t._m(34),t._m(35),t._v(\" \"),a(\"p\",[t._v(\"примерна такая же и в Laravel\")]),t._v(\" \"),t._m(36),t._m(37),t._v(\" \"),t._m(38),t._v(\" \"),t._m(39),t._v(\" \"),t._m(40),t._v(\" \"),a(\"h5\",{attrs:{id:\"по-ум-стоит-ejs-по-жеnанию-можно-подкnючить-nюбой-шабnонизатор-ссыnка-как-подкnючить-pug-nunjucks\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#по-ум-стоит-ejs-по-жеnанию-можно-подкnючить-nюбой-шабnонизатор-ссыnка-как-подкnючить-pug-nunjucks\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" По ум. стоит EJS. По желанию можно подключить любой шаблонизатор(ссылка как подключить): \"),a(\"a\",{attrs:{href:\"https://github.com/Nikeweke/EXPA--NODE/blob/master/%D0%A8%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD%D0%B8%D0%B7%D0%B0%D1%82%D0%BE%D1%80%D1%8B.md\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Pug, Nunjucks\"),a(\"OutboundLink\")],1)]),t._v(\" \"),t._m(41),t._v(\" \"),t._m(42),t._m(43),t._v(\" \"),t._m(44),t._m(45),t._v(\" \"),a(\"p\",[t._v(\"Можно строить маршруты 2 путями:\")]),t._v(\" \"),t._m(46),t._v(\" \"),t._m(47),t._m(48),t._v(\" \"),t._m(49),t._m(50),t._v(\" \"),t._m(51),t._v(\" \"),t._m(52),t._v(\" \"),t._m(53),t._v(\" \"),t._m(54),t._v(\" \"),t._m(55),t._v(\" \"),t._m(56),t._v(\" \"),t._m(57),t._m(58),t._v(\" \"),t._m(59),t._m(60),t._v(\" \"),t._m(61),t._v(\" \"),t._m(62),t._v(\" \"),t._m(63),t._m(64),t._v(\" \"),t._m(65)])},[function(){var t=this.$createElement,s=this._self._c||t;return s(\"h1\",{attrs:{id:\"sails-js-framework-for-nodejs\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#sails-js-framework-for-nodejs\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Sails JS - framework for Nodejs\")])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h5\",{attrs:{id:\"useful-links\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#useful-links\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Useful links\")])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h4\",{attrs:{id:\"содержание\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#содержание\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Содержание\")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"ul\",[a(\"li\",[a(\"a\",{attrs:{href:\"#commands\"}},[t._v(\"Комманды в консоле\")])]),t._v(\" \"),a(\"li\",[a(\"a\",{attrs:{href:\"#settings\"}},[t._v(\"Настройки запуска\")])]),t._v(\" \"),a(\"li\",[a(\"a\",{attrs:{href:\"#localization\"}},[t._v(\"Localization\")])]),t._v(\" \"),a(\"li\",[a(\"a\",{attrs:{href:\"#services\"}},[t._v(\"Services\")])]),t._v(\" \"),a(\"li\",[a(\"a\",{attrs:{href:\"#middleware\"}},[t._v(\"Middleware (aka Policies) - how to use\")])]),t._v(\" \"),a(\"li\",[a(\"a\",{attrs:{href:\"#cookies\"}},[t._v(\"Cookies\")])]),t._v(\" \"),a(\"li\",[a(\"a\",{attrs:{href:\"#db\"}},[t._v(\"Подключение к БД\")])]),t._v(\" \"),a(\"li\",[a(\"a\",{attrs:{href:\"#templater\"}},[t._v(\"Шаблонизатор (EJS)\")])]),t._v(\" \"),a(\"li\",[a(\"a\",{attrs:{href:\"#routes\"}},[t._v(\"Маршруты\")])]),t._v(\" \"),a(\"li\",[a(\"a\",{attrs:{href:\"#prod\"}},[t._v(\"В Продакшене\")])]),t._v(\" \"),a(\"li\",[a(\"a\",{attrs:{href:\"#req\"}},[t._v(\"req(Request)\")])]),t._v(\" \"),a(\"li\",[a(\"a\",{attrs:{href:\"#promises_db\"}},[t._v(\"Promises DB\")])]),t._v(\" \"),a(\"li\",[a(\"a\",{attrs:{href:\"#sync_db\"}},[t._v(\"Sync DB\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h2\",{attrs:{id:\"комманды-в-консоnе\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#комманды-в-консоnе\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Комманды в консоле \"),s(\"a\",{attrs:{id:\"commands\"}})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"ul\",[a(\"li\",[a(\"strong\",[t._v(\"sails lift\")]),t._v(\" - поднять сервер Sails\")]),t._v(\" \"),a(\"li\",[a(\"strong\",[t._v(\"sails new MyProject\")]),t._v(\" - создаст проект в папке где находишься\")]),t._v(\" \"),a(\"li\",[a(\"strong\",[t._v(\"sails generate controller page\")]),t._v(\" - создает контроллер PageController.js\")]),t._v(\" \"),a(\"li\",[a(\"strong\",[t._v(\"sails generate api status\")]),t._v(\" - создает StatusController.js(api/controllers) и Status.js(api/models)\")])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h2\",{attrs:{id:\"настройки-запуска\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#настройки-запуска\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Настройки запуска \"),s(\"a\",{attrs:{id:\"settings\"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h6\",{attrs:{id:\"app-js\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#app-js\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" app.js\")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// dev\")]),t._v(\"\\nprocess\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"env\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token constant\"}},[t._v(\"PORT\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"8000\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\nprocess\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"env\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token constant\"}},[t._v(\"NODE_ENV\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'dev'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// prod\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// process.env.PORT = 80;\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"...\")]),t._v(\"\\n\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h2\",{attrs:{id:\"localization\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#localization\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Localization \"),s(\"a\",{attrs:{id:\"localization\"}})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"ul\",[a(\"li\",[t._v(\"в папке \"),a(\"strong\",[t._v(\"config/locales\")]),t._v(\" - создаем свой файл где будут переменные ru.json\")]),t._v(\" \"),a(\"li\",[t._v(\"в папке \"),a(\"strong\",[t._v(\"config/i18n\")]),t._v(\" - расскоментить строку с массивом где языки, и добавить туда свой язык\")]),t._v(\" \"),a(\"li\",[t._v(\"в папке \"),a(\"strong\",[t._v(\"api/policies\")]),t._v(\" - создаем свой Middleware \"),a(\"strong\",[t._v(\"localize.js\")]),t._v(\" для перехвата с url версию сайта(ru, de, fr ...)\")]),t._v(\" \"),a(\"li\",[t._v(\"в папке \"),a(\"strong\",[t._v(\"config\")]),t._v(\" - открыть \"),a(\"strong\",[t._v(\"policies.js\")]),t._v(\" - и написать свой Middleware**(localize.js)** для всех запросов\")]),t._v(\" \"),a(\"li\",[t._v(\"Используем в шаблоне переменные из файла \"),a(\"strong\",[t._v(\"ru.json\")])]),t._v(\" \"),a(\"li\",[t._v(\"Так же можно писать локализацию прямо в методе\")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"  Index\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"req\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" res\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" next\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    req\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"setLocale\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'ru'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h5\",{attrs:{id:\"ru-json\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#ru-json\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" ru.json\")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"language-json extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-json\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"Welcome\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"Привед медвед\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token property\"}},[t._v('\"Goodbye\"')]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"Покеда.\"')]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h5\",{attrs:{id:\"routes-js\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#routes-js\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" routes.js\")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'get  /'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"             \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"req\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" res\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" res\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"redirect\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'/en/'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'get  /:lang'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"        \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'UserController.Index'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'post /:lang/user/'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"  \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'UserController.addUser'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h5\",{attrs:{id:\"i18n-js\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#i18n-js\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" i18n.js\")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"module\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"exports\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"i18n \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n     locales\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'en'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'es'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'fr'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'de'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'ru'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h5\",{attrs:{id:\"localize-js\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#localize-js\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" localize.js\")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"module\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function-variable function\"}},[t._v(\"exports\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"req\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" res\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" next\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n   \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" lang \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" req\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"param\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'lang'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// перехват переменной из URL\")]),t._v(\"\\n   req\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"setLocale\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"lang\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// установка локализации\")]),t._v(\"\\n   \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"next\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h5\",{attrs:{id:\"policies-js\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#policies-js\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" policies.js\")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"module\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"exports\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"policies \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'*'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"true\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'*'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'localize'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h5\",{attrs:{id:\"index-ejs\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#index-ejs\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" index.ejs\")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"<\")]),t._v(\"h4\"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"<\")]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"%=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"__\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'Welcome'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"%\")]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"<\")]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"/\")]),t._v(\"h4\"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\"\\n\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h2\",{attrs:{id:\"services-иnи-гnобаnьные-функции\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#services-иnи-гnобаnьные-функции\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Services или Глобальные функции \"),s(\"a\",{attrs:{id:\"services \"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"p\",[s(\"strong\",[this._v(\"Сервысы могут хранить переменные их состояние между страницами, как State store\")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"ul\",[a(\"li\",[t._v(\"Создаем в \"),a(\"strong\",[t._v(\"api/services\")]),t._v(\" наш сервисес - \"),a(\"strong\",[t._v(\"myService.js\")])]),t._v(\" \"),a(\"li\",[t._v(\"Там можно написать любые функции и экпоритровать их\")]),t._v(\" \"),a(\"li\",[t._v(\"В любом месте можно вызвать функции из Сервиса \"),a(\"strong\",[t._v(\"(myService.js)\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h5\",{attrs:{id:\"myservice-js\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#myservice-js\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" myService.js\")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"module\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"exports\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"one \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  Summ\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"a\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"b\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" a \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" b \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\nmodule\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"exports\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"two \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  Summ\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"a\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"b\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" a \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"*\")]),t._v(\" b \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h5\",{attrs:{id:\"mycontroller-js\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#mycontroller-js\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" myController.js\")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"module\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"exports \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  Index\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"req\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" res\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"myService\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"one\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"Summ\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"5\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"2\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h2\",{attrs:{id:\"middleware-aka-policies\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#middleware-aka-policies\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Middleware (aka Policies) \"),s(\"a\",{attrs:{id:\"middleware\"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"ul\",[s(\"li\",[this._v(\"Создать в папке api/policies - myAuth.js\")]),this._v(\" \"),s(\"li\",[this._v(\"Расскоментить в config/policies.js - '*':true;\")]),this._v(\" \"),s(\"li\",[this._v(\"И дописать там же свой контроллер и свой Middleware - 'MyController': { '*': 'myAuth' }\")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"language-javascript extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// config/policies.js\")]),t._v(\"\\n\\n\"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Работа с MIDDLEWARE такая :\")]),t._v(\"\\n\\n  \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// наш Middleware на отдельный контроллер на отдельную функцию\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'BreedController'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"  \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'Index'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'myAuth'\")]),t._v(\"  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n\\n   \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// наш Middleware на отдельный контроллер на все функции\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'BreedController'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"  \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'*'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'myAuth'\")]),t._v(\"  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n\\n   \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// наш Middleware - на все контроллеры\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'*'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'myAuth'\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n\")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"language-javascript extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[a(\"code\",[t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'get  /:lang'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"policy\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'myAuth'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"controller\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'UserController'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" action\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'Index'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h2\",{attrs:{id:\"cookies\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#cookies\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Cookies \"),s(\"a\",{attrs:{id:\"cookies\"}})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"language-javascript extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[a(\"code\",[t._v(\"  Index\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"req\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" res\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\\t \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"   \\n       \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// syntax - res.cookie(name, value, options) \")]),t._v(\"\\n       \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// options:\")]),t._v(\"\\n       \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v('// maxAge - жизнь куки в милисекундах (значение \"-1\" убивает куку) ')]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// httpOnly - true or false or nothing\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// expires - поставить дату истечения \")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// path - '/somepath'\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// secure - true or nothing - Пометка что кука безопасна (Нафига не понятно)\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// domain - .example.com\")]),t._v(\"\\n                       \\n\\t    \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" date \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"Date\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\\t  date\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"setDate\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"7\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" date\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"getDate\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"//дни\")]),t._v(\"\\n\\n\\t\\t  res\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"cookie\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'rememberme'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"dude\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'man'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" brick\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'shit'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" expires\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" date\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n      res\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"cookie\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'Uid'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'52'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" expires\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" date \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\\t\\t  res\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"ok\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'Cooks were done'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\\t\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n         \\n \\t Kill\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"req\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" res\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\\t\\t\\t\\t \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n\\t\\t\\t\\t\\t\\tres\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"cookie\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'rememberme'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"null\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" maxAge\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"-\")]),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"1\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n            res\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"cookie\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'Uid'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"null\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" maxAge\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"-\")]),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"1\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\\t\\t\\t\\t\\t\\tres\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"ok\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'Cooks were delete'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\\t\\t\\t \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"        \\n\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h2\",{attrs:{id:\"подкnючени-к-бд\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#подкnючени-к-бд\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Подключени к БД \"),s(\"a\",{attrs:{id:\"db\"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"ul\",[s(\"li\",[this._v(\"заходим в config/connections.js - там есть секция MySQL и вводим свои данные для подключения\")]),this._v(\" \"),s(\"li\",[this._v(\"заходим в config/models.js - там пишем название массива подключения к БД,\")]),this._v(\" \"),s(\"li\",[this._v(\"и раскоментим строку - migrate: 'alter', это значит перестроение таблиц автоматом в соответствии с моделями:\")])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"ul\",[s(\"li\",[this._v(\"'alter' - перестроит таблицы, но при этом сохранит данные которые в них\")]),this._v(\" \"),s(\"li\",[this._v(\"'safe'  - ничего не строит на основе моделей, надо вручную делать таблы\")]),this._v(\" \"),s(\"li\",[this._v(\"'drop'  - убивает таблицы, и заново их строит\")])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h2\",{attrs:{id:\"шабnонизатор\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#шабnонизатор\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Шаблонизатор \"),s(\"a\",{attrs:{id:\"templater\"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h6\",{attrs:{id:\"index-ejs-2\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#index-ejs-2\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" index.ejs\")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"language-html extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-html\"}},[a(\"code\",[t._v(\"<% layout('layout') -%>\\n\\n<% script('foo.js') -%>\\n<% stylesheet('foo.css') -%>\\n\\n<%/* TTHHAATT  CCOOMMEENNTT*/%>\\n\"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"h1\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"I am the  template\"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"h1\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\\n<% block('header', \\\"\"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"p\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"I'm in the header.\"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"p\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\\") -%>\\n<% block('footer', \\\"\"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"p\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"I'm in the footer.\"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"p\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v('\") -%>\\n\\n')])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h6\",{attrs:{id:\"layout-ejs\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#layout-ejs\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" layout.ejs\")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"language-html extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-html\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token doctype\"}},[t._v(\"<!DOCTYPE html>\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"html\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"head\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"title\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"It's\"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"title\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n    <%-scripts%>\\n    <%-stylesheets%>\\n  \"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"head\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"body\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"header\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n      <%-blocks.header%>\\n    \"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"header\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"section\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n      <%-body -%>\\n    \"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"section\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"footer\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n      <%-blocks.footer%>\\n    \"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"footer\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"body\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"html\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\\n\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h2\",{attrs:{id:\"маршруты-config-routes-js\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#маршруты-config-routes-js\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Маршруты (config/routes.js) \"),s(\"a\",{attrs:{id:\"routes\"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"ol\",[s(\"li\",[this._v(\"прописывать в routes.js\")]),this._v(\" \"),s(\"li\",[this._v(\"использовать схему в url типа - localhost/контроллер/метод действия/параметры, таким же способом можна вызывать шаблоны - такое свойство прописано в config/blueprints.js - actions = true - по ум.\")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"language-javascript extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Например\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// -> controllers/UserController.js\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'Index'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"req\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" res\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n   \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" res\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"view\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// это значит что будет вызов шаблона с таким путем -> views/user/index.ejs\")]),t._v(\"\\n \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"ul\",[s(\"li\",[this._v(\"Можно по разному писать маршруты\")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"language-javascript extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[a(\"code\",[t._v(\"module\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"exports\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"routes \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'/'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"       \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"  view\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'homepage'\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'/page'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"   \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'PageController.index'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'get /page'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"   \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'PageController.index'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'post /page'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"   \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'PageController.index'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'delete /page'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"   \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'PageController.index'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'/about'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n                controller\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'PageController'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n                action\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'about'\")]),t._v(\"\\n              \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h2\",{attrs:{id:\"в-продакшене\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#в-продакшене\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" В Продакшене \"),s(\"a\",{attrs:{id:\"prod\"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"ul\",[s(\"li\",[this._v(\"нужно в config/blueprints.js - разкомментить и поставить false : actions, rest, shortcuts\")])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h2\",{attrs:{id:\"request-req\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#request-req\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Request(req) \"),s(\"a\",{attrs:{id:\"req\"}})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"ul\",[a(\"li\",[a(\"code\",[t._v(\"req.acceptedLanguages\")]),t._v(\" - стандартные языки пользователя\")]),t._v(\" \"),a(\"li\",[a(\"code\",[t._v(\"req.route\")]),t._v(\" - путь маршрута\")]),t._v(\" \"),a(\"li\",[a(\"code\",[t._v(\"req.headers\")]),t._v(\" - заголовки\")]),t._v(\" \"),a(\"li\",[a(\"code\",[t._v(\"req.protocol\")]),t._v(\" - http or https, ftp , file\")])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h2\",{attrs:{id:\"promises-db\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#promises-db\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Promises DB \"),s(\"a\",{attrs:{id:\"promises_db\"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"p\",[this._v(\"Promises для работы с БД, не \"),s(\"code\",[this._v(\"callbacks\")]),this._v(\".\")])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h6\",{attrs:{id:\"indexcontroller-js\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#indexcontroller-js\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" IndexController.js\")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"Index\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"req\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" res\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" users   \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" User\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"getUsers\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"    \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// получаем пользователей\")]),t._v(\"\\n\\n  \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// эта комманда дает завершиться всем промисам, и в конце мы просто передаем данные на вьюху\")]),t._v(\"\\n    Promise\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"all\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"users\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"then\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"values \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=>\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n\\n       users   \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" values\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"0\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n       \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" res\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"view\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'homepage'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"users\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" users \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"//  return res.ok('ss');\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h6\",{attrs:{id:\"user-js\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#user-js\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" User.js\")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"getUsers\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Было так , я перенс в SQLsimple.js\")]),t._v(\"\\n   \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// return new Promise(resolve => {\")]),t._v(\"\\n   \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"//     User.query('SELECT * FROM users', (err, result) => {\")]),t._v(\"\\n   \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"//         if(err) { console.log(err); resolve(false); }\")]),t._v(\"\\n   \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"//          resolve(result);\")]),t._v(\"\\n   \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"//      })\")]),t._v(\"\\n   \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"//  })\")]),t._v(\"\\n\\n   \\n    \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" sqls\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"get\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"this\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'SELECT * FROM users'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"  \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// вернет промис в состоянии <pending>\")]),t._v(\"\\n \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h2\",{attrs:{id:\"sync-db\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#sync-db\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Sync DB \"),s(\"a\",{attrs:{id:\"sync_db\"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"p\",[this._v(\"Можно делать запросы синхронными чере эту библиотеку : \"),s(\"code\",[this._v(\"npm i sync --save\")]),this._v(\";\")])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h6\",{attrs:{id:\"indexcontroller-js-2\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#indexcontroller-js-2\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" IndexController.js\")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" Sync \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"require\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'sync'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"...\")]),t._v(\"\\nIndex\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"req\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" res\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=>\")]),t._v(\"            \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// == function (req, res)\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"Sync\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"                                      \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// оболочка синхронности\")]),t._v(\"\\n\\n           \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" result \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" User\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"getUsers\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"sync\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"null\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"2\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"  \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// первым параметром идет callback, потом остальные\")]),t._v(\"\\n           console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"result\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"                       \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"//  out: [ [users], 5 ]\")]),t._v(\"\\n\\n           res\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"ok\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'All is working fine'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n       \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h6\",{attrs:{id:\"user-js-2\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#user-js-2\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" User.js\")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\" getUsers\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"param1\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" callback\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"  \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// последним параметром идет callback, перед ним остальные\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n          console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"param1\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n          User\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"query\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'SELECT * FROM users'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"err\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" result\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n          \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n            \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"if\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"err\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"err\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n            \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" param2 \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"5\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"  \\n            \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"callback\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"null\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" result\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" param2\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"        \\n          \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n\")])])])}],!1,null,null,null);e.options.__file=\"sails.md\";s.default=e.exports}}]);","extractedComments":[]}